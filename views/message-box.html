<!DOCTYPE html>
<html>
<head>
    <title>F1 Message Box Overlay</title>
    <link rel="stylesheet" href="/fonts.css">
    <link rel="stylesheet" href="/styles-message-box.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>
<body>
    <!-- Main overlay container -->
    <div class="message-box-container">
        
        <!-- item_1_1: Top stripe (1250x15px) -->
        <div class="top-stripe">
            <!-- item_1_1_1: Base white rectangle -->
            <div class="stripe-base"></div>
            
            <!-- item_1_1_2: Diagonal stripes layer (generated by JS) -->
            <div class="diagonal-stripes-layer" id="diagonalStripesLayer"></div>
            
            <!-- item_1_1_4: Blur effect -->
            <div class="stripe-blur"></div>
            
            <!-- item_1_1_5: First gradient -->
            <img src="/images/message-box/Gradient.png" class="stripe-gradient stripe-gradient-1" alt="">
            <!-- item_1_1_6: Second gradient -->
            <img src="/images/message-box/Gradient.png" class="stripe-gradient stripe-gradient-2" alt="">
        </div>
        
        <!-- item_1_2: Main penalties container -->
        <div class="penalties-container">
            
            <!-- item_1_3r0: Blue rectangle background (710x100px) -->
            <div class="blue-background"></div>
            
            <!-- item_1_4r0: White nameplate with diagonal stripes (575x100px) -->
            <div class="nameplate-section">
                <!-- item_1_4r0_1: White background -->
                <div class="nameplate-background"></div>
                
                <!-- item_1_4r0_2: Diagonal stripes layer (generated by JS) -->
                <div class="nameplate-stripes-layer" id="nameplateStripesLayer"></div>
            </div>
            
            <!-- item_1_5r0: FIA logo section (135x100px) -->
            <div class="fia-logo-section">
                <div class="fia-logo">f</div>
            </div>
            
            <!-- item_1_12r0: Penalty popup layer -->
            <div class="penalty-popup-layer">
                <!-- item_1_13r0r0: Blue background for penalty message -->
                <div class="penalty-background">
                    
                    <!-- item_1_14r0r0: White bordered box for PENALTY text -->
                    <div class="penalty-box">
                        <!-- item_1_15r0r0: PENALTY text -->
                        <div class="penalty-text">PENALTY</div>
                    </div>
                    
                    <!-- item_1_9r0: Time penalty layer -->
                    <div class="time-penalty-layer">
                        <!-- item_1_10r0r0: Penalty value (e.g., +3, +5) -->
                        <div class="penalty-value">+3</div>
                        
                        <!-- item_1_11r0r0: SECONDS text -->
                        <div class="penalty-seconds">SECONDS</div>
                    </div>
                    
                </div>
                <!-- item_1_17r0: Name layer -->
                <div class="name-layer">
                    <!-- item_1_18r0r0: First name -->
                    <div class="driver-first-name">MAX</div>
                    
                    <!-- item_1_19r0r0: Last name -->
                    <div class="driver-last-name">VERSTAPPEN</div>
                </div>
                
            </div>
            
            <!-- item_1_21: Generic message box layer -->
            <div class="message-box-layer">
                <div class="message-text">
                    <div><span class="message-prefix">FIA STEWARDS:</span> 10 SECONDS STOP/GO TIME PENALTY FOR CAR 1 (VER) - CAUSING A COLLISION</div>
                </div>
            </div>
            
            <!-- item_1_20r0: Transition lines -->
            <div class="transition-lines-layer">
                <div class="transition-lines-container">
                    <!-- item_1_20r0_1 -->
                    <div class="transition-line transition-line-1"></div>
                    <!-- item_1_20r0_2 -->
                    <div class="transition-line transition-line-2"></div>
                    <!-- item_1_20r0_3 -->
                    <div class="transition-line transition-line-3"></div>
                    <!-- item_1_20r0_4 -->
                    <div class="transition-line transition-line-4"></div>
                    <!-- item_1_20r0_5 -->
                    <div class="transition-line transition-line-5"></div>
                </div>
            </div>
            
        </div>
        
    </div>

    <!-- Formation Lap Box (separate from main container) -->
    <div class="formation-lap-container">
        <!-- Formation Lap Box Background -->
        <div class="formation-lap-box">
            <div class="formation-lap-text">FORMATION LAP</div>
            <div class="formation-lap-red-line"></div>
        </div>
        
        <!-- Formation Lap Stroke (top stripe) -->
        <div class="formation-lap-stroke">
            <div class="formation-stroke-base"></div>
            <div class="formation-stroke-diagonal-layer" id="formationStrokeDiagonalLayer"></div>
            <div class="formation-stroke-blur"></div>
            <img src="/images/message-box/Gradient.png" class="formation-stroke-gradient formation-stroke-gradient-1" alt="">
            <img src="/images/message-box/Gradient.png" class="formation-stroke-gradient formation-stroke-gradient-2" alt="">
        </div>
    </div>
    
    <script>
        const socket = io();
        
        // Generate diagonal stripes on page load
        function generateDiagonalStripes() {
            const layer = document.getElementById('diagonalStripesLayer');
            
            // item_1_1_3r0: First stripe (no wrapper)
            const firstStripe = document.createElement('div');
            firstStripe.className = 'diagonal-stripe';
            firstStripe.id = 'stripe-0';
            layer.appendChild(firstStripe);
            
            // item_1_1_3r1 to item_1_1_3r152: Stripes with wrappers
            for (let i = 1; i <= 152; i++) {
                const wrapper = document.createElement('div');
                wrapper.className = 'layer-repetition';
                wrapper.style.left = (i * 9) + 'px';
                
                const stripe = document.createElement('div');
                stripe.className = 'diagonal-stripe';
                stripe.id = `stripe-${i}`;
                
                wrapper.appendChild(stripe);
                layer.appendChild(wrapper);
            }
            
            console.log('[MessageBox] Generated 153 diagonal stripes for top stripe');
        }
        
        // Generate nameplate diagonal stripes
        function generateNameplateStripes() {
            const layer = document.getElementById('nameplateStripesLayer');
            
            // item_1_4r0_3r0: First stripe (no wrapper)
            const firstStripe = document.createElement('div');
            firstStripe.className = 'nameplate-diagonal-stripe';
            firstStripe.id = 'nameplate-stripe-0';
            layer.appendChild(firstStripe);
            
            // item_1_4r0_3r1 to item_1_4r0_3r14: 14 more stripes with wrappers (56px spacing)
            for (let i = 1; i <= 14; i++) {
                const wrapper = document.createElement('div');
                wrapper.className = 'nameplate-layer-repetition';
                wrapper.style.left = (i * 56) + 'px';
                
                const stripe = document.createElement('div');
                stripe.className = 'nameplate-diagonal-stripe';
                stripe.id = `nameplate-stripe-${i}`;
                
                wrapper.appendChild(stripe);
                layer.appendChild(wrapper);
            }
            
            console.log('[MessageBox] Generated 15 diagonal stripes for nameplate');
        }
        
        // Generate Formation Lap stroke diagonal stripes
        function generateFormationStrokeDiagonalStripes() {
            const layer = document.getElementById('formationStrokeDiagonalLayer');
            
            // item_2_3r0_3r0: First stripe (no wrapper)
            const firstStripe = document.createElement('div');
            firstStripe.className = 'formation-stroke-diagonal-stripe';
            firstStripe.id = 'formation-stroke-stripe-0';
            layer.appendChild(firstStripe);
            
            // item_2_3r0_3r1 to item_2_3r0_3r152: Stripes with wrappers
            for (let i = 1; i <= 152; i++) {
                const wrapper = document.createElement('div');
                wrapper.className = 'formation-stroke-layer-repetition';
                wrapper.style.left = (i * 9) + 'px';
                
                const stripe = document.createElement('div');
                stripe.className = 'formation-stroke-diagonal-stripe';
                stripe.id = `formation-stroke-stripe-${i}`;
                
                wrapper.appendChild(stripe);
                layer.appendChild(wrapper);
            }
            
            console.log('[MessageBox] Generated 153 diagonal stripes for Formation Lap stroke');
        }
        
        // Generate stripes immediately
        generateDiagonalStripes();
        generateNameplateStripes();
        generateFormationStrokeDiagonalStripes();
        
        // Basic setup - no logic yet, just structure
        console.log('[MessageBox] Overlay loaded');
        
    </script>
</body>
</html>
